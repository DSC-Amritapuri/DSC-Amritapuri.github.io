<template>
    <v-container class="pa-0 my-0">
        <v-layout wrap align-center justify-center row fill-height v-for="(eventDetails,i) in featureEvent" :key="i" class="mt-2 elevation-2 white" style="border:1px solid #e0e0e0;border-radius:5px">
            <v-flex xs12 sm4 md3 lg3 class="pa-4" >
                <v-img
                    :src="eventDetails.eventPosterURL"
                    :lazy-src="eventDetails.eventPosterURL"
                    width="100%">
                    <v-layout
                        slot="placeholder"
                        fill-height
                        align-center
                        justify-center
                        ma-0
                    >
                        <v-progress-circular indeterminate color="grey lighten-5"></v-progress-circular>
                    </v-layout>
                </v-img>
            </v-flex>
           <v-flex xs12 sm8 md9 lg9 class="pa-2 py-4 px-3" >
                <p class="google-font mb-0" style="font-size:150%;color:rgb(2, 119, 189)">{{eventDetails.title}}</p>
                <span class="google-font mt-1 mb-0 grey--text"  style="font-size:105%">
                    <v-icon small>insert_invitation</v-icon>
                    {{ eventDetails.date | dateFilter }}
                    &nbsp;
                    <v-icon small>watch_later</v-icon>
                    {{ eventDetails.time }}
                    &nbsp;
                    <!-- <v-icon small>map</v-icon>
                    {{eventDetails.venue | summery(50)}} <a :href="eventDetails.venueMapLink" target="_blank">(Map)</a> -->
                </span>    
               <p class="google-font mt-2 mb-1" style="font-size:115%;color:#757575">
                   {{eventDetails.desc}}
               </p>
                
                <v-btn color="#1a73e8" v-if="eventDetails.link.length>0" :href="eventDetails.link" target="_blank" class="ma-0 elevation-0 my-2" dark style="text-transform: capitalize;border-radius:5px;"> 
                    Registration Link
                </v-btn>
                &nbsp;

                <!-- <v-tooltip top slot="activator" v-if="eventDetails.EventWebsite.length>0">
                    <v-btn flat icon color="#616161" class="ma-0 elevation-0" slot="activator" 
                    :href="eventDetails.EventWebsite"
                    target="_blank"
                    style="text-transform: capitalize;border-radius:5px;"> 
                        <v-icon>language</v-icon>
                    </v-btn>
                    <span>See {{eventDetails.FeatureEventName}} Website</span>
                </v-tooltip> -->

                <!-- <v-tooltip top slot="activator" v-if="eventDetails.FBEventPageURL.length>0">
                    <v-btn flat icon color="#616161"
                    :href="eventDetails.FBEventPageURL"
                    target="_blank"
                    class="ma-0 elevation-0" slot="activator" style="text-transform: capitalize;border-radius:5px;"> 
                        <v-icon >fab fa-facebook-f</v-icon>
                    </v-btn>
                    <span>See {{eventDetails.FeatureEventName}} Facebook Page</span>
                </v-tooltip> -->
            
            </v-flex> 
        </v-layout>

    </v-container>
</template>

<script>

import { db } from '../firebase'
export default {

    data() {
        return {
            featureEvent:[]
        }
    },
    created(){
        
    },
    firestore(){
        return {
            featureEvent: db.collection('events').where('featureEvent', '==', 'true')
        }
    },
    filters:{
        summery: (val,num)=>{
            return val.substring(0,num)+".."
        },
        dateFilter: (value)=>{
            const date = new Date(value)
            return date.toLocaleString(['en-US'], {month: 'short', day: '2-digit', year: 'numeric'})
        }
    }
}
</script>
